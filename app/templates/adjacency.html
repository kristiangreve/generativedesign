{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block app_content %}

<div class="container">
  <div class="col-md-12">
    <table class="table table-hover">
      <thead >
        <th>
        </th>
        {% for department_col in departments[1:] %}
        <th class="text-center">
          {{ department_col.name }}
        </th>
        {% endfor %}
      </thead>

      <tbody>
        {% for department_row in departments[:-1] %}
        <tr>
          <td class="text-right">
            {{ department_row.name }}
          </td>
          {% for department_col in departments[1:] %}
          <td class="text-center" width = 200px>
            {% set adj = check_adj(department_row.name,department_col.name) %}
            {% set plot = adjacent_list_check(department_row.name,department_col.name) %}

            {% if plot== True%}
            {% if adj== False%}
            <a href="{{ url_for('add_adjacency',department1=department_row.name,department2=department_col.name) }}">
              <i class="material-icons">check_box_outline_blank</i>
            </a>
            {% elif adj== True%}
            <a href="{{ url_for('del_adjacency',department1=department_row.name,department2=department_col.name) }}">
              <i class="material-icons">check_box</i>
            </a>
            {% endif %}
            {% endif %}
          </td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<div class="container">
  <div class="col-md-12">

    {% for department in departments %}
    <div class="row">
      {{ department.name }}

      {% for adj in department.adjacency | json_to_list %}
      {{adj}}
      {% endfor %}

    </div>
    {% endfor %}
  </div>
</div>

      {% endblock %}
